{"version":3,"file":"src_pages_dashboard_ts.bundle.js","mappings":";;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC8D;AACd;AACjC;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,2DAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,2DAAQ;AAChB;AACA,gCAAgC,mEAAa;AAC7C,6CAA6C,mEAAa;AAC1D,4CAA4C,mEAAa;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,2DAAQ;AAChB,oBAAoB,mEAAa;AACjC,+BAA+B,mEAAa;AAC5C,+BAA+B,mEAAa;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1MA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AAC6C;AACgB;AACF;AACW;AACoC;AAC/B;AAChC;AACoB;AACD;AAChB;AACD;AACV;AACc;AAC0C;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAAK,WAAW,wDAAkB,EAAE,gDAAU,EAAE,4CAAM,EAAE,6CAAO;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,2DAAQ;AAChB;AACA,wBAAwB,8DAAU;AAClC,QAAQ,2DAAQ;AAChB,sCAAsC,oEAAiB;AACvD,qBAAqB,sEAAiB,MAAM,wDAAS;AACrD;AACA,YAAY,6CAAU,CAAC,iEAAY;AACnC;AACA,QAAQ,2DAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,6CAAU,CAAC,qEAAgB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,cAAc;AAC3B;AACA;AACA;AACA,uBAAuB,oEAAiB,WAAW,sEAAiB,MAAM,wDAAS;AACnF;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,2DAAQ;AACZ;AACA,4BAA4B,sEAAa;AACzC;AACA;AACA,mDAAmD,kDAAQ,CAAC,8CAAW;AACvE,oDAAoD,kDAAQ,CAAC,8CAAW;AACxE;AACA,2BAA2B,sEAAa;AACxC;AACA;AACA,6DAA6D,kDAAQ,CAAC,8CAAW;AACjF,8DAA8D,kDAAQ,CAAC,8CAAW;AAClF;AACA,+BAA+B,sEAAa;AAC5C;AACA;AACA,8CAA8C,kDAAQ,CAAC,8CAAW;AAClE,+CAA+C,kDAAQ,CAAC,8CAAW;AACnE;AACA,qCAAqC,sEAAa;AAClD;AACA;AACA,kEAAkE,kDAAQ,CAAC,8CAAW;AACtF,4DAA4D,kDAAQ,CAAC,8CAAW;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,2EAAiB;AACzC;AACA,qBAAqB,kDAAQ,CAAC,8CAAW;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,sEAAW;AACrC;AACA;AACA,wBAAwB,2EAAiB;AACzC;AACA,wEAAwE,oEAAe;AACvF;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,2DAAQ;AACZ,mDAAmD;AACnD,qDAAqD;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,2CAAK;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,eAAe;AAC5B,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,oEAAiB;AACxC,qBAAqB,8EAAyB,MAAM,wDAAS;AAC7D;AACA;AACA;AACA,4BAA4B,2EAAiB;AAC7C;AACA,yBAAyB,kDAAQ,CAAC,8CAAW;AAC7C;AACA;AACA;AACA,YAAY,2DAAQ;AACpB,8BAA8B,sEAAW;AACzC,qCAAqC,0EAAmB;AACxD,gCAAgC,2EAAiB;AACjD;AACA;AACA,8BAA8B,gEAAS;AACvC;AACA;AACA;AACA;AACA,gBAAgB,2DAAQ;AACxB,gCAAgC,oEAAa;AAC7C,gBAAgB,2DAAQ,0DAA0D,oEAAa;AAC/F,aAAa;AACb;AACA;AACA,gBAAgB,2DAAQ;AACxB;AACA;AACA,8BAA8B,gEAAS;AACvC,gBAAgB,2DAAQ;AACxB,gCAAgC,oEAAa;AAC7C,gBAAgB,2DAAQ,0DAA0D,oEAAa;AAC/F,aAAa;AACb,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL","sources":["webpack://admin/./src/components/card/CardDashboard.ts","webpack://admin/./src/pages/dashboard.ts"],"sourcesContent":["/**\n * CardDashboard - Custom Web Component for Dashboard Metric Cards\n *\n * This component creates interactive dashboard cards that display key performance\n * indicators with dynamic styling based on metric values. It supports two-line\n * data display with automatic color coding for positive/negative trends and\n * internationalization capabilities.\n *\n * Features:\n * - Dynamic metric display with trend-based color coding\n * - Two-line data layout for related metrics\n * - Internationalization support with data attributes\n * - Automatic styling based on positive/negative values\n * - Fluent interface for easy configuration\n * - Responsive Bootstrap grid integration\n *\n * @example\n * ```typescript\n * const card = document.createElement('card-dashboard') as CardDashboard;\n * card.setTitle('Sales Overview')\n *     .setLine1(25, 'new customers')\n *     .setLine2(-5, 'cancellations')\n *     .setLangData('dashboard.sales');\n * ```\n */\nimport { DATA_LANGUAGE } from \"../../constants/DataConstants\";\nimport MyLogger from \"../../utilities/MyLogger\";\nexport default class CardDashboard extends HTMLElement {\n    /**\n     * Creates a new CardDashboard instance.\n     */\n    constructor() {\n        super();\n        // this.render()\n    }\n    /**\n     * Web Component lifecycle callback invoked when element is added to DOM.\n     * Triggers the initial rendering of the card.\n     */\n    connectedCallback() {\n        this.render();\n    }\n    /**\n     * Set the card title and update display\n     *\n     * @param title - Title text to display in card header\n     * @returns This instance for method chaining\n     */\n    setTitle(title) {\n        MyLogger.log(this);\n        this.title = title;\n        $(this).find('h5').text(this.title);\n        return this;\n    }\n    /**\n     * Set the first metric line with automatic trend styling\n     *\n     * Displays the amount with a '+' prefix. Positive values show in green,\n     * negative in red, and zero in gray.\n     *\n     * @param amount - Numeric value (positive=green, negative=red, zero=gray)\n     * @param text - Description text for the metric\n     * @returns This instance for method chaining\n     */\n    setLine1(amount, text) {\n        this.amount1 = amount;\n        this.text1 = text;\n        var vText = $(this).find('p:first-of-type');\n        if (vText.length == 0) {\n            return this;\n        }\n        // Display absolute value with '+' prefix\n        vText.html('+ ' + Math.abs(this.amount1) + ' ' + this.text1);\n        // Apply trend-based styling\n        if (amount > 0) {\n            vText.addClass('text-success font-weight-bold');\n            vText.removeClass('text-secondary');\n            return this;\n        }\n        if (amount < 0) {\n            vText.addClass('text-danger font-weight-bold');\n            vText.removeClass('text-secondary');\n            return this;\n        }\n        // Neutral styling for zero values\n        vText.addClass('text-secondary');\n        vText.removeClass('text-success text-danger font-weight-bold');\n        return this;\n    }\n    /**\n     * Set the second metric line with automatic trend styling\n     *\n     * Displays the amount with a '+' prefix. Positive values show in green,\n     * negative in red, and zero in gray.\n     *\n     * @param amount - Numeric value (positive=green, negative=red, zero=gray)\n     * @param text - Description text for the metric\n     * @returns This instance for method chaining\n     */\n    setLine2(amount, text) {\n        this.amount2 = amount;\n        this.text2 = text;\n        var vText = $(this).find('p:last-of-type');\n        if (vText.length == 0) {\n            return this;\n        }\n        // Display absolute value with '+' prefix\n        vText.html('+ ' + Math.abs(this.amount2) + ' ' + this.text2);\n        // Apply trend-based styling\n        if (amount > 0) {\n            vText.addClass('text-success font-weight-bold');\n            vText.removeClass('text-secondary');\n            return this;\n        }\n        if (amount < 0) {\n            vText.addClass('text-danger font-weight-bold');\n            vText.removeClass('text-secondary');\n            return this;\n        }\n        // Neutral styling for zero values\n        vText.addClass('text-secondary');\n        vText.removeClass('text-success text-danger font-weight-bold');\n        return this;\n    }\n    /**\n     * Configure internationalization data attributes\n     *\n     * Sets data-lang-text attributes for dynamic translation. Automatically\n     * appends \"_line1\" and \"_line2\" suffixes to the base key.\n     *\n     * @param langData - Base language key for i18n lookup (e.g., 'dashboard.sales')\n     * @returns This instance for method chaining\n     */\n    setLangData(langData) {\n        this.langData = langData;\n        MyLogger.log(\"lang data - setup:\", this.langData);\n        // Set i18n data attributes for dynamic translation\n        $(this).find('h5').data(DATA_LANGUAGE, this.langData);\n        $(this).find('p:first-of-type').data(DATA_LANGUAGE, this.langData + \"_line1\");\n        $(this).find('p:last-of-type').data(DATA_LANGUAGE, this.langData + \"_line2\");\n        return this;\n    }\n    /**\n     * Render the complete dashboard card with styling and content\n     *\n     * Creates the card structure with responsive layout, applies trend-based\n     * styling, and configures internationalization attributes. Called automatically\n     * by connectedCallback when the element is added to the DOM.\n     *\n     * @private\n     */\n    render() {\n        // Apply responsive grid classes and styling\n        this.classList.add(...'col-md-3 col-12 p-2'.split(' '));\n        this.style.width = 'fit-content';\n        // Create main card container with Bootstrap styling\n        var vDivCardBody = $(\"<div>\")\n            .addClass(\"border rounded-lg p-2 bg-light card-dashboard h-100\");\n        // Create card elements\n        var vTitle = $(\"<h5>\").text(this.title);\n        // First metric line with amount and description\n        var vLine1 = $(\"<div>\");\n        var vTextAmount1 = $(\"<span>\").addClass('pr-1').text('+' +\n            Math.abs(this.amount1));\n        var vTextDescription1 = $(\"<span>\").text(this.text1);\n        // Second metric line with amount and description\n        var vLine2 = $(\"<div>\");\n        var vTextAmount2 = $(\"<span>\").addClass('pr-1').text('+' +\n            Math.abs(this.amount2));\n        var vTextDescription2 = $(\"<span>\").text(this.text2);\n        // Assemble card structure\n        vLine1.append(vTextAmount1, vTextDescription1);\n        vLine2.append(vTextAmount2, vTextDescription2);\n        vDivCardBody.append(vTitle, vLine1, vLine2);\n        this.append(vDivCardBody.get()[0]);\n        // Configure internationalization data attributes\n        MyLogger.log(\"---- lang data:\", this.langData);\n        vTitle.data(DATA_LANGUAGE, this.langData);\n        vTextDescription1.data(DATA_LANGUAGE, this.langData + \"_line1\");\n        vTextDescription2.data(DATA_LANGUAGE, this.langData + \"_line2\");\n        // Apply trend-based styling for first line\n        if (this.amount1 > 0) {\n            vLine1.addClass('text-success font-weight-bold');\n            vLine1.removeClass('text-secondary');\n        }\n        else if (this.amount1 < 0) {\n            vLine1.addClass('text-danger font-weight-bold');\n            vLine1.removeClass('text-secondary');\n        }\n        // Apply trend-based styling for second line\n        if (this.amount2 > 0) {\n            vLine2.addClass('text-success font-weight-bold');\n            vLine2.removeClass('text-secondary');\n        }\n        else if (this.amount2 < 0) {\n            vLine2.addClass('text-danger font-weight-bold');\n            vLine2.removeClass('text-secondary');\n        }\n    }\n}\nif (customElements.get('card-dashboard') == null) {\n    customElements.define('card-dashboard', CardDashboard);\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport navigateTo, { getLanguage } from \"..\";\nimport CardDashboard from \"../components/card/CardDashboard\";\nimport ImageButton from \"../components/buttons/ImageButon\";\nimport TableRowComponent from \"../components/table/TableRowComponent\";\nimport { IMAGE_NOT_FOUND, PATH_API_CUSTOMER_REQUEST, PATH_API_EMPLOYEE } from \"../constants/APIConstants\";\nimport { PATH_DEFAULT, PATH_REAL_ESTATE } from \"../constants/webConstants\";\nimport PageModel from \"../model/PageModel\";\nimport APIRequestBuilder from \"../utilities/APIRequestBuilder\";\nimport { ArcElement, Chart, Legend, Tooltip } from \"chart.js\";\nimport { DoughnutController } from \"chart.js\";\nimport MyLogger from \"../utilities/MyLogger\";\nimport language from \"../language\";\nimport SecureAuth from \"../utilities/SecureAuth\";\nimport { DATA_ATTR_ID_UPDATE, DATA_ITEM, DATA_LANGUAGE } from \"../constants/DataConstants\";\n/**\n * Dashboard Page - Real Estate Analytics and Overview\n *\n * This module provides a comprehensive dashboard interface for the real estate\n * admin system, displaying key metrics, analytics, and quick access to important\n * data. It features interactive charts, data cards, and management tools.\n *\n * Features:\n * - Real-time analytics cards with key metrics\n * - Interactive doughnut charts for province-based data\n * - Unverified real estate listings management\n * - Role-based dashboard content\n * - Quick navigation to verification workflows\n * - Chart.js integration for data visualization\n */\n// REGION 1: Global variables and configuration\n/** Register Chart.js components for doughnut chart functionality */\nChart.register([DoughnutController, ArcElement, Legend, Tooltip]);\n// REGION 2: Element events\n// (Event binding handled in specific functions)\n// REGION 3: Event handlers\n/**\n * Initialize and load dashboard data\n *\n * Orchestrates the complete dashboard setup including:\n * - User authentication and role verification\n * - Dashboard data fetching from API\n * - Dynamic content generation based on user role\n * - Chart and card updates with real-time data\n */\nfunction onLoad() {\n    return __awaiter(this, void 0, void 0, function* () {\n        // Fetch comprehensive dashboard data from API\n        var vDashboard = yield getUserDashboardData();\n        MyLogger.log(\"---- dashboard result:\", vDashboard);\n        // Get current user information for role-based customization\n        var vUserInfo = SecureAuth.getUserInfo();\n        MyLogger.log(\"--- user data:\", vUserInfo);\n        var vCurrentUser = yield (new APIRequestBuilder()\n            .setPath(PATH_API_EMPLOYEE, new PageModel()).getById(vUserInfo.id));\n        if (vCurrentUser == null) {\n            navigateTo(PATH_DEFAULT);\n        }\n        MyLogger.log(\"-- user data:\", vCurrentUser);\n        // Update dashboard components with fetched data\n        updateCardData(vDashboard.data);\n        getUnverifiedRealEstates(vDashboard.data.currentUserRSNotVerified);\n        getTop5Provinces(vDashboard.data.topPostProvinces);\n        getTopViewProvinces(vDashboard.data.topViewProvinces);\n        getTopSellProvinces(vDashboard.data.topSellProvinces);\n        yield getUserRequireHelp();\n        // Hide loading indicator once dashboard is ready\n        $(\"#div-loading\").removeClass('d-flex').addClass('d-none');\n    });\n}\n/**\n * Handle view button clicks for real estate verification\n * Navigates to the verification page for the selected property\n */\nfunction onButtonViewClick() {\n    var vId = this.getAttribute('view-id');\n    navigateTo(PATH_REAL_ESTATE + '/' + vId + '/verify');\n}\n// REGION 4: Common functions\n/**\n * Fetches the comprehensive dashboard data from the API\n *\n * Retrieves all necessary metrics and statistics for the dashboard including:\n * - User-specific real estate data\n * - Customer statistics\n * - Property verification status\n * - Provincial analytics\n *\n * @returns {Promise<any>} Promise resolving to the dashboard data object containing all metrics\n */\nfunction getUserDashboardData() {\n    return __awaiter(this, void 0, void 0, function* () {\n        var vApi = new APIRequestBuilder().setPath(PATH_API_EMPLOYEE, new PageModel());\n        return yield vApi.getDashboard();\n    });\n}\n/**\n * Update dashboard metric cards with current data\n *\n * Creates and displays key performance indicator cards showing:\n * - Customer growth metrics (weekly/monthly)\n * - Customer request volumes\n * - New property listings\n * - Properties requiring verification\n *\n * @param paramData - Dashboard data object containing all metrics\n */\nfunction updateCardData(paramData) {\n    $(\"#span-verify-total\").text();\n    MyLogger.log('---- update');\n    // Customer growth metrics card\n    var vCardCustomer = new CardDashboard()\n        .setLangData('dashboard_card1')\n        .setTitle('Customer')\n        .setLine1(paramData.newCustomerWeek, ' ' + language[getLanguage()].text_dashboard_customer_week)\n        .setLine2(paramData.newCustomerMonth, ' ' + language[getLanguage()].text_dashboard_customer_month);\n    // Customer request tracking card\n    var vCardRequest = new CardDashboard()\n        .setLangData('dashboard_card2')\n        .setTitle('Customer Request')\n        .setLine1(paramData.customerRequestDay.length, ' ' + language[getLanguage()].text_dashboard_request_day)\n        .setLine2(paramData.customerRequestWeek.length, ' ' + language[getLanguage()].text_dashboard_request_week);\n    // New property listings metrics card\n    var vCardRealEstates = new CardDashboard()\n        .setLangData('dashboard_card3')\n        .setTitle('New Estates')\n        .setLine1(paramData.postedWeek, ' ' + language[getLanguage()].text_dashboard_post_week)\n        .setLine2(paramData.postedMonth, ' ' + language[getLanguage()].text_dashboard_post_month);\n    // Verification status tracking card\n    var vCardRealEstatesVerify = new CardDashboard()\n        .setLangData('dashboard_card4')\n        .setTitle('Estates not verified')\n        .setLine1(-paramData.totalCurrentUserRSNotVerified, ' ' + language[getLanguage()].text_dashboard_not_verify)\n        .setLine2(-paramData.totalOutdatedRealEstate, ' ' + language[getLanguage()].text_dashboard_not_verify_weeks);\n    // Append all cards to dashboard\n    $('#dashboard-cards').append(vCardCustomer);\n    $('#dashboard-cards').append(vCardRequest);\n    $('#dashboard-cards').append(vCardRealEstates);\n    $('#dashboard-cards').append(vCardRealEstatesVerify);\n}\n/**\n * Populate unverified real estates table\n *\n * Creates an interactive table showing properties that require verification,\n * with quick access buttons for the verification workflow.\n *\n * @param paramData - Array of unverified real estate objects\n */\nfunction getUnverifiedRealEstates(paramData) {\n    if (paramData == null || paramData.length == 0) {\n        var vCell = new TableRowComponent()\n            .setColSpan(4)\n            .setData(language[getLanguage()].text_entries_none);\n        $(\"#table-estates\").append(vCell.innerHTML);\n        return;\n    }\n    paramData.forEach((item) => {\n        var _a;\n        // Create view button for quick access to verification page\n        var vViewButton = ImageButton.create('view');\n        vViewButton.setAttribute('view-id', item.id.toString());\n        // Create table row with property information and action button\n        var vCell = new TableRowComponent()\n            .setPhotoFieldsIndex(0)\n            .setData((_a = item.photo) !== null && _a !== void 0 ? _a : IMAGE_NOT_FOUND, item.title, item.createDate.toString(), vViewButton);\n        $(\"#table-estates\").append(vCell.innerHTML);\n    });\n    // Bind click event for verification navigation\n    $(\"#table-estates\").on('click', '.button-view', onButtonViewClick);\n}\n/**\n * Generate top 5 provinces chart by property count\n *\n * @param paramData - Array of province objects with property counts\n */\nfunction getTop5Provinces(paramData) {\n    MyLogger.log('--- pdaat', paramData);\n    var vNames = paramData.map(item => item.name); // Extract province names\n    var vValues = paramData.map(item => item.total); // Extract property counts\n    fillDonutChartData('chart-location-active', vNames, vValues);\n}\n/**\n * Generate top provinces chart by view count\n *\n * @param paramData - Array of province objects with view counts\n */\nfunction getTopViewProvinces(paramData) {\n    var vNames = paramData.map(item => item.name);\n    var vValues = paramData.map(item => item.total);\n    fillDonutChartData('chart-location-view', vNames, vValues);\n}\n/**\n * Generate top provinces chart by sales activity\n *\n * @param paramData - Array of province objects with sales counts\n */\nfunction getTopSellProvinces(paramData) {\n    var vNames = paramData.map(item => item.name);\n    var vValue = paramData.map(item => item.total);\n    fillDonutChartData('chart-location-sell', vNames, vValue);\n}\n/**\n * Create and render doughnut chart with provided data\n *\n * Generates interactive Chart.js doughnut charts with consistent styling\n * and hover effects for data visualization.\n *\n * @param paramId - Canvas element ID for chart rendering\n * @param paramNames - Array of labels for chart segments\n * @param paramData - Array of numerical values for chart segments\n */\nfunction fillDonutChartData(paramId, paramNames, paramData) {\n    const canvas = document.getElementById(paramId);\n    // Adjust layout if no data available\n    if (paramNames.length == 0) {\n        $(canvas).siblings('div').css('max-width', '500px');\n    }\n    // Configure chart data with labels and styling\n    const data = {\n        labels: paramNames,\n        datasets: [{\n                label: 'Most Estates by Provinces',\n                data: paramData,\n                backgroundColor: [\n                    'rgb(255, 99, 132)', // Red\n                    'rgb(54, 162, 235)', // Blue\n                    'rgb(255, 205, 86)', // Yellow\n                    'rgba(86, 255, 187, 1)', // Green\n                    'rgba(173, 86, 255, 1)', // Purple\n                ],\n                hoverOffset: 4 // Expand segment on hover\n            }]\n    };\n    // Configure chart options for doughnut style\n    const pie = {\n        type: 'doughnut',\n        data: data,\n        options: {\n            cutout: '70%', // Create doughnut hole (70% of radius)\n        }\n    };\n    // Render chart on canvas element\n    new Chart(canvas, pie);\n}\n/**\n * Fetches and displays customer support requests that require attention\n *\n * Retrieves the latest unhandled customer requests from the API and populates\n * the dashboard table with request details including type, body, creation date,\n * and current status. Applies localization to request types and statuses.\n *\n * Filters applied:\n * - Latest requests only\n * - Not yet handled\n *\n * @returns {Promise<void>} Promise that resolves when the request table is populated\n * @throws {Error} If API request fails or data format is invalid\n */\nfunction getUserRequireHelp() {\n    return __awaiter(this, void 0, void 0, function* () {\n        var vUrlSearchParams = new URLSearchParams();\n        vUrlSearchParams.set('latest', 'true');\n        vUrlSearchParams.set('notHandle', 'true');\n        var vApi = new APIRequestBuilder()\n            .setPath(PATH_API_CUSTOMER_REQUEST, new PageModel)\n            .setParams(vUrlSearchParams);\n        var vData = yield vApi.getAll();\n        if (vData == null || vData['data'] == null || vData['data'].length == 0) {\n            var vCell = new TableRowComponent()\n                .setColSpan(4)\n                .setData(language[getLanguage()].text_entries_none);\n            $(\"#table-request\").append(vCell.innerHTML);\n        }\n        vData['data'].forEach(item => {\n            MyLogger.log(\"----- Data item:\" + item);\n            var vViewButton = ImageButton.create('update');\n            vViewButton.setAttribute(DATA_ATTR_ID_UPDATE, item.id.toString());\n            var vTableRow = new TableRowComponent();\n            vTableRow.setData(item.type, item.body, item.createDate, item.status, vViewButton);\n            var vRow = vTableRow.firstElementChild;\n            vRow.setAttribute(DATA_ITEM, JSON.stringify(item));\n            $(\"#table-request\").append(vRow);\n            var vTdType = $(\"#table-request td:nth-of-type(1)\");\n            vTdType.get().forEach(element => {\n                var vTypeText = 'text_customer_request_type_' + $(element).text();\n                MyLogger.log(\"--- dashboard - langText:\", vTypeText);\n                $(element).data(DATA_LANGUAGE, vTypeText);\n                MyLogger.log(\"----- dashboard - langText after:\", $(element).data(DATA_LANGUAGE));\n            });\n            var vTdStatus = $(\"#table-request td:nth-of-type(4)\");\n            vTdStatus.get().forEach(element => {\n                MyLogger.log(\"----- parent:\", $(element).parent());\n                var vTypeText = 'text_customer_request_status_' +\n                    JSON.parse($(element).parent()\n                        .attr(DATA_ITEM)).status;\n                MyLogger.log(\"--- dashboard - langText:\", vTypeText);\n                $(element).data(DATA_LANGUAGE, vTypeText);\n                MyLogger.log(\"----- dashboard - langText after:\", $(element).data(DATA_LANGUAGE));\n            });\n        });\n    });\n}\n/**\n * Main dashboard page initialization function\n *\n * Loads the dashboard template and initializes all dashboard functionality.\n * This is the entry point called by the routing system.\n *\n * @returns Promise that resolves when dashboard is fully loaded and configured\n */\nexport default function dashboardPage() {\n    return __awaiter(this, void 0, void 0, function* () {\n        // Load dashboard-specific template\n        var vHtml = yield fetch('/templates/dashboard.html')\n            .then(res => res.text());\n        // Inject template into main container\n        $(\"#main-container\").html(vHtml);\n        // Initialize dashboard functionality and load data\n        yield onLoad();\n    });\n}\n"],"names":[],"sourceRoot":""}
{"version":3,"file":"src_pages_master_layout_ts.bundle.js","mappings":";;;;;;;;;;;;;AAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;ACXA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AAC6B;AACwD;AACiB;AAC/C;AACI;AACxB;AACF;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,2EAAsB;AACzC;AACA,kBAAkB,qEAAgB;AAClC;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,8DAAe;AAC1C,cAAc,gEAAiB;AAC/B;AACA;AACA,iBAAiB,uEAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,iDAAQ,CAAC,8CAAW;AAC3C,uBAAuB,iDAAQ,CAAC,8CAAW;AAC3C;AACA;AACA;AACA,8CAA8C,qEAAgB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe;AACf;AACA;AACA,kCAAkC,oEAAe,GAAG,yEAAoB;AACxE;AACA;AACA;AACA;AACA;AACA,KAAK;AACL","sources":["webpack://admin/./src/model/MasterLayoutModel.ts","webpack://admin/./src/pages/master_layout.ts"],"sourcesContent":["export default class MasterLayoutModel {\n    constructor() {\n        this.id = 0;\n        this.name = '';\n        this.description = '';\n        this.acreage = null;\n        this.apartmentList = '';\n        this.photo = '';\n        this.createDate = null;\n        this.updateDate = null;\n    }\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport '../styles/style.css';\nimport { PATH_API_MASTER_LAYOUT, PATH_API_PROJECT } from '../constants/APIConstants';\nimport { FOLDER_TEMPLATE, TEMPLATE_VIEW_ENTITY, PATH_MASTER_LAYOUT } from '../constants/webConstants';\nimport PageInteraction from '../utilities/Interaction';\nimport MasterLayoutModel from '../model/MasterLayoutModel';\nimport language from '../language';\nimport { getLanguage } from '..';\n/**\n * Master Layout Management Page\n *\n * This module handles the administrative interface for managing master layout data\n * within real estate projects. Master layouts represent the overall design and\n * structure plans for development projects, including apartment distributions\n * and spatial arrangements.\n *\n * Features:\n * - CRUD operations for master layout records\n * - Project association through dropdown selection\n * - Photo management for layout diagrams and plans\n * - Tabbed form interface for organized data entry\n * - Acreage and apartment list management\n * - Timestamp tracking for audit purposes\n */\n// REGION 1: Global variables and configuration\n/** Primary API endpoint for master layout operations */\nvar gApiMainPath = PATH_API_MASTER_LAYOUT;\n/** Parent API endpoint for project data (for project association) */\nvar gParentPath = PATH_API_PROJECT;\nvar gDataTransform = [\n    {\n        name: \"acreage\",\n        to: 'text',\n        suffix: \"m<sup>2</sup>\",\n    },\n    {\n        name: 'project',\n        fields: 'name', // Display project name\n        separator: ', '\n    }\n];\n/**\n * Main page interaction controller configured for master layout management\n * Sets up the complete interface including model binding, API endpoints,\n * parent-child relationship with projects, and view paths\n */\nvar gPageInteraction = new PageInteraction()\n    .setModel(MasterLayoutModel)\n    .setPath(gApiMainPath)\n    .setParentPath(gParentPath, null)\n    .setViewPath(PATH_MASTER_LAYOUT)\n    .setTableDataTransform(...gDataTransform);\n// REGION 2: Element events\n// (No direct element events - handled through PageInteraction framework)\n// REGION 3: Event handlers\n/**\n * Initialize and configure the master layout management page\n *\n * Sets up the complete page functionality including:\n * - Table structure with layout and project information\n * - Tabbed interface for organized data entry\n * - Form validation for required fields\n * - Photo upload functionality for layout diagrams\n * - Project association dropdown\n * - Data transformation for project display\n * - API integration and event binding\n */\nfunction onLoad() {\n    return __awaiter(this, void 0, void 0, function* () {\n        yield gPageInteraction\n            // Configure table columns to display master layout information with timestamps\n            .setTableHeaders('name', 'project', 'acreage', 'photo', 'createDate', 'updateDate')\n            // Create tabbed interface for organized data entry\n            .createTab(language[getLanguage()].tab_data, 'name', 'description', 'acreage', 'apartmentList', 'project') // Basic layout information\n            .createTab(language[getLanguage()].tab_photo, 'photo') // Layout diagrams and plans\n            // Set validation ru\n            // les - layout name is mandatory\n            .setRequiredFields('name')\n            .addSelectFields('project', null, PATH_API_PROJECT, null, true)\n            // Configure photo upload field for layout diagrams\n            .setPhotoFields('photo')\n            // Exclude system-managed timestamp fields from form generation\n            .setIgnoreFields('createDate', 'updateDate')\n            // Configure project association dropdown\n            // Configure project field to be sent as URL parameter for proper API routing\n            .setDataToHeader('project')\n            // Configure data transformation for better project display in table\n            // Initialize the page with all configurations\n            .connectButton();\n    });\n}\n// REGION 4: Common functions\n/**\n * Main master layout page initialization function\n *\n * Loads the HTML template and initializes the master layout management interface.\n * This is the entry point called by the routing system.\n *\n * @returns Promise that resolves when page is fully loaded and configured\n */\nexport default function masterLayoutPage() {\n    return __awaiter(this, void 0, void 0, function* () {\n        // Load the standard entity management template\n        const vHtml = yield fetch(FOLDER_TEMPLATE + TEMPLATE_VIEW_ENTITY)\n            .then(res => res.text());\n        // Inject template into main container\n        $(\"#main-container\").html(vHtml);\n        // Initialize page functionality\n        yield onLoad();\n    });\n}\n"],"names":[],"sourceRoot":""}
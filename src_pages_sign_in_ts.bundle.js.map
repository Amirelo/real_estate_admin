{"version":3,"file":"src_pages_sign_in_ts.bundle.js","mappings":";;;;;;;;;;;;;;;;;;;;;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AAC+D;AACD;AAC3B;AACN;AACuC;AACvB;AACI;AACE;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,4EAAuB;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B,QAAQ,mDAAgB;AACxB,QAAQ,2DAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,2DAAQ;AAChB;AACA;AACA;AACA,YAAY,2DAAQ;AACpB,YAAY,8DAAW,oBAAoB,iDAAQ,CAAC,8CAAW;AAC/D;AACA;AACA,QAAQ,2DAAQ;AAChB;AACA,4BAA4B,6DAAU;AACtC;AACA,YAAY,2DAAQ;AACpB;AACA,YAAY,mDAAgB;AAC5B;AACA;AACA,QAAQ,2DAAQ;AAChB,QAAQ,2DAAQ;AAChB,QAAQ,mDAAgB;AACxB;AACA,QAAQ,6CAAU,CAAC,sEAAiB;AACpC,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,2DAAQ;AAChB;AACA,QAAQ,mDAAgB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL","sources":["webpack://admin/./src/pages/sign_in.ts"],"sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport navigateTo, { getLanguage, setLoadingStatus } from \"..\";\nimport { PATH_VERIFICATION } from \"../constants/webConstants\";\nimport language from \"../language\";\nimport '../styles/style.css';\nimport { onButtonVisibilityClick } from \"../utilities/EventHandler\";\nimport MyLogger from \"../utilities/MyLogger\";\nimport SecureAuth from \"../utilities/SecureAuth\";\nimport MyUtilities from \"../utilities/MyUtilities\";\n/**\n * Employee Sign-In Page\n *\n * This module handles the authentication interface for employee login\n * in the real estate admin system. It provides a secure login form\n * with validation, password visibility controls, and API integration.\n *\n * Features:\n * - Username and password authentication\n * - Form validation with error feedback\n * - Password visibility toggle functionality\n * - API integration for authentication\n * - Automatic redirection on successful login\n * - Loading state management during authentication\n */\n// REGION 1: Global variables\n// (No global variables required for this page)\n// REGION 2: Element events\n// (Event binding handled in onLoad function)\n// REGION 3: Event handlers\n/**\n * Initialize page event handlers and bind UI interactions\n *\n * Sets up all necessary event listeners for the sign-in form including\n * form submission handling and password visibility toggles.\n */\nfunction onLoad() {\n    // Bind form submission handler for authentication\n    $(\"#form-signin\").on('submit', onFormSignInSubmit);\n    // Bind password visibility toggle functionality\n    // Allows users to show/hide password field for better UX\n    $(\".button-visibility\").on('click', onButtonVisibilityClick);\n}\n/**\n * Handle sign-in form submission\n *\n * Orchestrates the complete authentication workflow including:\n * 1. Data collection from form fields\n * 2. Client-side validation\n * 3. API authentication request\n * 4. Redirection on successful authentication\n *\n * @param e - Form submission event\n */\nfunction onFormSignInSubmit(e) {\n    return __awaiter(this, void 0, void 0, function* () {\n        e.preventDefault(); // Prevent default form submission\n        setLoadingStatus(true);\n        MyLogger.log(\"Fetch sign in data\");\n        // Prepare authentication object\n        var vObject = {\n            username: '',\n            password: ''\n        };\n        // Step 1: Collect credentials from form inputs\n        collectData(vObject);\n        MyLogger.log(\"Validate sign in data\");\n        // Step 2: Validate required fields\n        var vValidate = validateData(vObject);\n        if (!vValidate) {\n            MyLogger.log(\"Fail validation\");\n            MyUtilities.showToast('error', language[getLanguage()].err_auth_empty);\n            return;\n        }\n        MyLogger.log(\"Signing in user ...\");\n        // Step 3: Submit authentication request to API\n        var vResult = yield SecureAuth.signIn(vObject.username, vObject.password);\n        if (vResult == null) {\n            MyLogger.log(\"Sign in fail\");\n            // Authentication failed - error handling done by requestSignIn\n            setLoadingStatus(false);\n            return;\n        }\n        MyLogger.log(\"Sign in success, re-locating\");\n        MyLogger.log(\"Turn off loading widget\");\n        setLoadingStatus(false);\n        // Step 4: Redirect to main application on successful authentication\n        navigateTo(PATH_VERIFICATION);\n    });\n}\n// REGION 4: Common functions\n/**\n * Collect data for object\n * @param paramObject: Object to send to server\n */\nfunction collectData(paramObject) {\n    paramObject['username'] = $(\"#input-username\").val().toString().trim();\n    paramObject['password'] = $(\"#input-password\").val().toString().trim();\n}\n/**\n * validate data for object\n * @param paramObject: Object to send to server\n */\nfunction validateData(paramObject) {\n    var vResult = true;\n    if (paramObject['username'].length == 0 ||\n        paramObject['password'].length == 0) {\n        MyLogger.log(\"Fail validation\");\n        vResult = false;\n        setLoadingStatus(false);\n        return;\n    }\n    return vResult;\n}\n/**\n * Main sign-in page initialization function\n *\n * Loads the sign-in template and initializes the authentication interface.\n * This is the entry point called by the routing system.\n *\n * @returns Promise that resolves when page is fully loaded and configured\n */\nexport default function signInPage() {\n    return __awaiter(this, void 0, void 0, function* () {\n        // Load the sign-in form template\n        var vHtml = yield fetch('/templates/sign_in.html').then(res => res.text());\n        // Inject template into main container\n        $(\"#main-container\").append(vHtml);\n        // Initialize page functionality\n        onLoad();\n    });\n}\n"],"names":[],"sourceRoot":""}
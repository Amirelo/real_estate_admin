{"version":3,"file":"src_pages_customer_ts.bundle.js","mappings":";;;;;;;;;;;;;;AAAO;AACP;AACA;AACA;AACA;AACe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;ACpBA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AAC6B;AACoD;AACmB;AAC7C;AACsB;AAC5B;AACd;AACF;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,sEAAiB;AACpC;AACA,qBAAqB,sEAAiB;AACtC;AACA;AACA;AACA;AACA;AACA,2BAA2B,8DAAe;AAC1C,cAAc,4DAAa,GAAG;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,qEAAgB;AAClC;AACA,gBAAgB,iDAAQ,CAAC,8CAAW;AACpC;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,6DAAU;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,sEAAoB;AACjE;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe;AACf;AACA;AACA,gCAAgC,oEAAe,GAAG,yEAAoB;AACtE;AACA;AACA;AACA;AACA;AACA,KAAK;AACL","sources":["webpack://admin/./src/model/CustomerModel.ts","webpack://admin/./src/pages/customer.ts"],"sourcesContent":["export const CustomerContactTitle = {\n    \"mr\": \"Mr.\",\n    \"mrs\": \"Mrs.\",\n    \"ms\": \"Ms.\",\n};\nexport default class CustomerModel {\n    constructor() {\n        this.id = 0;\n        this.contactName = '';\n        this.contactTitle = '';\n        this.address = '';\n        this.mobile = '';\n        this.email = '';\n        this.note = '';\n        this.createDate = null;\n        this.updateDate = null;\n        this.createBy = null;\n        this.updateBy = null;\n        this.numRealEstates = 0;\n    }\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport '../styles/style.css';\nimport { PATH_API_CUSTOMER, PATH_API_EMPLOYEE } from '../constants/APIConstants';\nimport { FOLDER_TEMPLATE, TEMPLATE_VIEW_ENTITY, PATH_REAL_ESTATE } from '../constants/webConstants';\nimport PageInteraction from '../utilities/Interaction';\nimport CustomerModel, { CustomerContactTitle } from '../model/CustomerModel';\nimport SecureAuth from '../utilities/SecureAuth';\nimport language from '../language';\nimport { getLanguage } from '..';\n// /**\n//  * Customer Management Page\n//  * \n//  * This module handles the administrative interface for managing customer data\n//  * in the real estate system. Customers are individuals or entities who inquire\n//  * about or purchase real estate properties.\n//  * \n//  * Features:\n//  * - CRUD operations for customer records\n//  * - User-specific customer filtering (customers by logged-in employee)\n//  * - Interactive navigation to customer's real estate listings\n//  * - Contact information management with titles and notes\n//  * - Employee tracking for customer creation and updates\n//  * - Table display with customer metrics and audit information\n//  */\n// REGION 1: Global variables and configuration\n/** Primary API endpoint for customer operations */\nvar gApiMainPath = PATH_API_CUSTOMER;\n/** Parent API endpoint for employee data (for user-specific filtering) */\nvar gApiParentPath = PATH_API_EMPLOYEE;\n/**\n * Main page interaction controller configured for customer management\n * Sets up user-specific customer filtering by associating customers\n * with the currently logged-in employee\n */\nvar gPageInteraction = new PageInteraction()\n    .setModel(CustomerModel); // Filter by current user\n/**\n * Data transformation configuration for enhanced table display\n * Converts customer data into interactive elements and formatted displays\n */\nvar gDataTransform = [\n    {\n        name: 'numRealEstates',\n        pathName: PATH_REAL_ESTATE,\n        to: 'link', // Convert count to clickable link\n        fields: language[getLanguage()].text_customer_posts,\n        fieldName: 'customer_id', // Parameter for filtering properties by customer\n    },\n    {\n        name: 'createBy',\n        fields: 'firstName, lastName', // Concatenate employee names\n        separator: ' ' // Space between first and last name\n    }\n];\n// REGION 2: Element events\n// (No direct element events - handled through PageInteraction framework)\n// REGION 3: Event handlers\n/**\n * Initialize and configure the customer management page\n *\n * Sets up the complete page functionality including:\n * - Table structure with customer metrics and audit information\n * - Data transformation for interactive navigation and employee display\n * - Contact information fields including notes and titles\n * - Form validation for required customer data\n * - System field exclusion from form generation\n * - API integration and event binding\n */\nfunction onLoad() {\n    return __awaiter(this, void 0, void 0, function* () {\n        var _a;\n        yield gPageInteraction\n            .setPath(gApiMainPath)\n            .setParentPath(gApiParentPath, (_a = SecureAuth.getUserInfo()) === null || _a === void 0 ? void 0 : _a.id)\n            // Configure table columns with customer info, metrics, and audit data\n            .setTableHeaders('numRealEstates', 'contactName', 'mobile', 'note', 'createBy', 'updateBy', 'createDate', 'updateDate')\n            // Apply transformations for navigation links and employee name display\n            .setTableDataTransform(...gDataTransform)\n            // Configure multi-line text input for customer notes\n            .setTextareaFields(\"note\")\n            // Configure contact title dropdown with predefined options\n            .addSelectFields('contactTitle', CustomerContactTitle, null, null, false)\n            // Set validation rules for essential customer information\n            .setRequiredFields('contactName', 'mobile', 'email')\n            // Exclude system-managed and calculated fields from form generation\n            .setIgnoreFields('createBy', 'updateBy', 'numRealEstates', 'createDate', 'updateDate')\n            // Initialize the page with all configurations\n            .connectButton();\n    });\n}\n// REGION 4: Common functions\n/**\n * Main customer page initialization function\n *\n * Loads the HTML template and initializes the customer management interface.\n * This is the entry point called by the routing system.\n *\n * @returns Promise that resolves when page is fully loaded and configured\n */\nexport default function customerPage() {\n    return __awaiter(this, void 0, void 0, function* () {\n        // Load the standard entity management template\n        let vHtml = yield fetch(FOLDER_TEMPLATE + TEMPLATE_VIEW_ENTITY)\n            .then(res => res.text());\n        // Inject template into main container\n        $(\"#main-container\").html(vHtml);\n        // Initialize page functionality\n        yield onLoad();\n    });\n}\n"],"names":[],"sourceRoot":""}
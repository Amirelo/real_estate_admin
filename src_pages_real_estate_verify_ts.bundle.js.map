{"version":3,"file":"src_pages_real_estate_verify_ts.bundle.js","mappings":";;;;;;;;;;;;;;;;;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACoC;AACsD;AAC1B;AAC1B;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,6DAAQ,GAAG,+DAAU;AAC1C,YAAY,yEAAoB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,iDAAQ,CAAC,8CAAW;AAC7D;AACA;AACA,0CAA0C,iDAAQ,CAAC,8CAAW;AAC9D;AACA;AACA,wCAAwC,iDAAQ,CAAC,8CAAW;AAC5D;AACA;AACA;AACA;AACA,kDAAkD,4DAAO,YAAY,4DAAO;AAC5E;AACA;AACA,iCAAiC,kCAAkC;AACnE,+BAA+B,YAAY;AAC3C;AACA;AACA,mDAAmD,kBAAkB;AACrE,+BAA+B,OAAO;AACtC;AACA;AACA;AACA,uDAAuD,wDAAwD,uDAAuD,aAAa,wCAAwC;AAC3N;AACA;AACA;AACA,iDAAiD,MAAM;AACvD,+CAA+C,qBAAqB;AACpE,qCAAqC,aAAa;AAClD;AACA;AACA;AACA;AACA;AACA,kEAAkE,4EAA4E;AAC9I;AACA;AACA;AACA,mEAAmE,oEAAoE;AACvI;AACA;AACA;AACA,oEAAoE,2DAA2D;AAC/H;AACA;AACA;AACA;AACA,2BAA2B;AAC3B,oCAAoC,YAAY,oEAAoE;AACpH;AACA;AACA;AACA;AACA;AACA;AACA,wEAAwE,kBAAkB;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;;;;;;;;;;;;;;;;;;;ACxHO;AACP;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;ACzFA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AAC4B;AAC+B;AACoF;AACpE;AAChC;AACoC;AACb;AACH;AAClB;AACI;AACE;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,+DAAW;AAC/B;AACA,QAAQ,2DAAQ;AAChB,gCAAgC,oEAAiB;AACjD,qBAAqB,yEAAoB,MAAM,wDAAS;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,2DAAQ;AAChB,qDAAqD,cAAc;AACnE,+BAA+B,kEAAc;AAC7C,QAAQ,2DAAQ,KAAK,kEAAc;AACnC,+BAA+B,uEAAmB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,8BAA8B,kBAAkB;AAChD,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,2DAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,oEAAiB;AACzD,yBAAyB,uEAAkB,MAAM,wDAAS;AAC1D;AACA;AACA;AACA,+HAA+H,gBAAgB;AAC/I,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,oEAAe;AACpC;AACA;AACA,wBAAwB,+DAAU,CAAC,EAAE,yEAAoB,CAAC,GAAG,gBAAgB,GAAG,OAAO;AACvF;AACA;AACA;AACA,uFAAuF,SAAS,WAAW,EAAE,KAAK;AAClH;AACA,gBAAgB;AAChB;AACA,6FAA6F,SAAS,OAAO;AAC7G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,6DAAU;AAClC,4BAA4B,8EAAuB,UAAU,yEAAoB,gBAAgB,sEAAiB;AAClH;AACA,YAAY,6CAAU,CAAC,iEAAY;AACnC;AACA,KAAK;AACL;AACA;AACA;AACA,QAAQ,2DAAQ;AAChB;AACA;AACA;AACA;AACA;AACA,gCAAgC,oEAAiB;AACjD,qBAAqB,qEAAgB,MAAM,wDAAS;AACpD;AACA,QAAQ,2DAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,yEAAY;AACpC;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,6DAAQ,gBAAgB,sEAAiB,gDAAgD,oEAAe;AAC3I;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,uGAAuG,oEAAe;AACtH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,6BAA6B;AACjE;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe;AACf;AACA,QAAQ,2DAAQ;AAChB;AACA;AACA;AACA;AACA,KAAK;AACL","sources":["webpack://admin/./src/components/card/CardProperty.ts","webpack://admin/./src/model/RealEstateModel.ts","webpack://admin/./src/pages/real_estate_verify.ts"],"sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { getLanguage } from \"../..\";\nimport { BASE_URL, PATH_API_REAL_ESTATE, PATH_IMAGE } from \"../../constants/APIConstants\";\nimport { BILLION, MILLION } from \"../../constants/webConstants\";\nimport language from \"../../language\";\n/**\n * CardProperty - Property Card Component Factory Function\n *\n * Creates a dynamic property card element for displaying real estate listings\n * with comprehensive property information, images, and metadata. Supports\n * various layout configurations and optional edit functionality.\n *\n * Features:\n * - Responsive card layout with Bootstrap grid system\n * - Property image display with fallback handling\n * - Dynamic pricing with automatic formatting\n * - Time-based posting date calculation (days/months/years ago)\n * - Property type indicators (Sell/Rent) with color coding\n * - Property details display (acreage, bedrooms, bathrooms)\n * - Optional edit mode with action buttons\n * - Configurable grid layout (items per row)\n *\n * @param property - Real estate property data object\n * @param isHorizontal - Optional horizontal layout flag (currently unused)\n * @param itemPerRow - Number of cards per row (affects grid sizing)\n * @param isEdit - Whether to show edit button for property management\n * @returns Promise resolving to HTMLElement containing the property card\n */\nexport default function CardProperty(property, itemPerRow, isEdit) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const template = document.createElement('template');\n        // Process property title with fallback for missing data\n        var title = property.title != null && property.title.length > 0 ?\n            property.title : 'No title';\n        // Construct property image URL\n        // var vPhoto = await validateImage(property.photo, PATH_API_REAL_ESTATE, property.id);\n        var vPhoto = BASE_URL + PATH_IMAGE + '/' +\n            PATH_API_REAL_ESTATE + \"/\" + property.id + \"/\" + property.photo;\n        // Calculate and format posting date relative to current time\n        var vDateCreate = property.createDate;\n        vDateCreate = new Date(vDateCreate);\n        var vYear = property.yearCreate;\n        var vMonth = property.monthCreate;\n        var vDay = property.dayCreate;\n        // Format time difference for user-friendly display\n        var vDisplayDate = \"\";\n        if (vYear >= 1) {\n            vDisplayDate = vYear + ' ' + language[getLanguage()].text_date_year_ago;\n        }\n        else if (vMonth >= 1) {\n            vDisplayDate = vMonth + ' ' + language[getLanguage()].text_date_month_ago;\n        }\n        else {\n            vDisplayDate = vDay + ' ' + language[getLanguage()].text_date_day_ago;\n        }\n        // Process and format property price\n        var vPrice = property.price;\n        // Convert to millions if price is in thousands (< 7 digits)\n        vPrice = property.request == 0 ? vPrice * BILLION : vPrice * MILLION;\n        // Generate complete card HTML with dynamic content\n        var vHtml = `\r\n        <article class=\"col-lg-${itemPerRow ? 12 / itemPerRow : 4} col-md-6 card-property\">\r\n        <a href=\"/properties/${property.id}\" data-link class=\"letter-spacing-none \">\r\n                <div class=\"card h-100\">\r\n                    <!-- Property image with responsive aspect ratio -->\r\n                    <img style=\"aspect-ratio: 1.2; object-fit: cover;\"\r\n                        src=\"${vPhoto}\" class=\"card-img-top\"\r\n                        alt=\"\">\r\n                    \r\n                    <!-- Property type badge (Sell/Rent) with color coding -->\r\n                    <p class=\"mb-0 position-absolute ${property.request == 0 ? \"bg-warning\" : \"bg-primary-my\"} px-3 py-2 font-weight-bold rounded-lg\" style=\"top:1rem;left:1rem\">${property.request == 0 ? \"Sell\" : \"Rent\"}</p>\r\n                    \r\n                    <div class=\"card-body d-flex flex-column\">\r\n                        <!-- Property title and basic information -->\r\n                        <h5 class=\"card-title\">${title}</h5>\r\n                        <p class=\"p-address\">${property.addressFull}</p>\r\n                        <p>Posted: ${vDisplayDate}</p>\r\n                        \r\n                        <!-- Property details grid (acreage, bedrooms, bathrooms) -->\r\n                        <div class=\"row\">\r\n                            <div class=\"d-flex align-items-center col-md-4\">\r\n                                <i class=\"fa-solid fa-expand mr-2\"></i>\r\n                                <span class=\"span-square small\">${property.acreage && property.acreage != null ? property.acreage : 'No info'}</span>\r\n                            </div>\r\n                            <div class=\"d-flex align-items-center col-md-4\">\r\n                                <i class=\"fa-solid fa-bed mr-2\"></i>\r\n                                <span class=\"span-bedroom small\">${property.bedroom && property.bedroom != null ? property.bedroom : 0}</span>\r\n                            </div>\r\n                            <div class=\"d-flex align-items-center col-md-4\">\r\n                                <i class=\"fa-solid fa-toilet mr-2\"></i>\r\n                                <span class=\"span-bathroom small\">${property.bath && property.bath != null ? property.bath : 0}</span>\r\n                            </div>\r\n                        </div>\r\n                        \r\n                        <!-- Optional edit button for property management -->\r\n                         ${isEdit == true ?\n            `<a href=\"/properties/${property.id}/edit\" class=\"btn btn-info mt-auto mb-0\" data-link style=\"z-index=3;\">Edit</a>`\n            :\n                \"\"}\r\n                    </div>\r\n                    \r\n                    <!-- Property price display -->\r\n                    <div class=\"card-footer\">\r\n                        <p class=\"card-price text-danger mb-0\">Price: ${vPrice.toString()}</p>\r\n                    </div>\r\n                </div>\r\n                </a>\r\n            </article>\r\n        `;\n        template.innerHTML = vHtml;\n        return template.content.firstElementChild;\n    });\n}\n","export const RealEstateStatus = {\n    0: 'Unverified',\n    1: 'Success',\n    2: 'Sold',\n    3: 'Taken down',\n    4: 'Denied'\n};\nexport const RealEstateType = {\n    0: 'Land',\n    1: 'House',\n    2: 'Apartment',\n    3: 'Office',\n    4: 'Buisness Premise',\n    5: 'Boarding house'\n};\nexport const RealEstateFurniture = {\n    0: 'Basic',\n    1: 'Full',\n    3: 'Unknown'\n};\nexport const RealEstateRequest = {\n    0: 'Sell',\n    3: 'Rent',\n};\nexport const RealEstatePriceTime = {\n    0: 'Bình thường',\n    1: 'Bán nhanh',\n};\nexport default class RealEstateModel {\n    constructor() {\n        this.id = 0;\n        this.title = '';\n        this.type = null;\n        this.request = null;\n        this.address = '';\n        this.price = null;\n        this.priceMin = null;\n        this.priceTime = null;\n        this.createDate = null;\n        this.acreage = null;\n        this.direction = null;\n        this.totalFloors = null;\n        this.floorNumber = null;\n        this.bath = null;\n        this.apartCode = '';\n        this.wallArea = null;\n        this.bedroom = null;\n        this.balcony = null;\n        this.landscapeView = '';\n        this.apartLoca = null;\n        this.apartType = null;\n        this.furnitureType = null;\n        this.priceRent = null;\n        this.returnRate = null;\n        this.legalDoc = null;\n        this.description = '';\n        this.widthY = null;\n        this.LongX = null;\n        this.streetHouse = null;\n        this.FSBO = null;\n        this.viewNum = null;\n        this.createBy = null;\n        this.updateBy = null;\n        this.shape = '';\n        this.distanceToFacade = null;\n        this.adjacentFacadeNum = null;\n        this.adjactentRoad = '';\n        this.alleyMinWidth = null;\n        this.adjacentAlleyMinWidth = null;\n        this.factor = null;\n        this.structure = '';\n        this.DTSXD = null;\n        this.CLCL = null;\n        this.priceCTXD = null;\n        this.valueCTXD = null;\n        this.photo = '';\n        this.latitude = null;\n        this.longtitude = null;\n        this.street = null;\n        this.province = null;\n        this.district = null;\n        this.ward = null;\n        this.project = null;\n        this.customer = null;\n        this.addressFull = null;\n        this.yearCreate = 0;\n        this.monthCreate = 0;\n        this.dayCreate = 0;\n    }\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport navigateTo from \"..\";\nimport CardProperty from \"../components/card/CardProperty\";\nimport { BASE_URL, IMAGE_NOT_FOUND, PATH_API_EMPLOYEE, PATH_API_REAL_ESTATE, PATH_API_UTILITIES, PATH_IMAGE } from \"../constants/APIConstants\";\nimport { PATH_DEFAULT, PATH_REAL_ESTATE } from \"../constants/webConstants\";\nimport PageModel from \"../model/PageModel\";\nimport { RealEstateFurniture, RealEstateType } from \"../model/RealEstateModel\";\nimport { requestUpdateDataSingle } from \"../utilities/ApiHandler\";\nimport APIRequestBuilder from \"../utilities/APIRequestBuilder\";\nimport MyLogger from \"../utilities/MyLogger\";\nimport SecureAuth from \"../utilities/SecureAuth\";\nimport MyUtilities from \"../utilities/MyUtilities\";\n// REGION 1: Global variables\nvar gIsSCrolling = false;\nvar gCurrentImage = 1;\nvar gImagesDefault = [];\nvar gProperty = null;\nvar gStatus = 0;\n// REGION 2: Element events\n// REGION 3: Event hanlders\n// REGION 4: Common functions\nfunction onLoad() {\n    return __awaiter(this, void 0, void 0, function* () {\n        var _a, _b, _c, _d, _e;\n        const path = window.location.pathname;\n        var match = MyUtilities.validateVerifyPath();\n        const propertyId = match ? match[1] : null;\n        MyLogger.log(\"Match:\", match[1]);\n        var vResult = yield new APIRequestBuilder()\n            .setPath(PATH_API_REAL_ESTATE, new PageModel())\n            .getById(Number(propertyId));\n        gProperty = vResult['data'];\n        getNearbyProperties();\n        $(\"#button-slide-right\").on('click', () => handleImageDisplay(true));\n        $(\"#button-slide-left\").on('click', () => handleImageDisplay(false));\n        uploadContactCard(gProperty.createby);\n        uploadProjectCard(gProperty.project);\n        // MyLogger.log(\"------ IMAGE PATH:\", vImage)\n        // MyLogger.log(vData)\n        $(\"#h5-title\").text(gProperty.title ? gProperty.title : \"No title\");\n        $(\"#span-description\").text(gProperty.description ? gProperty.description : \"No description\");\n        MyLogger.log(gProperty.request);\n        // $(\"#select-request\").find(`option[value=${vData.request}]`).attr('selected');\n        $(\"#p-room-type\").text(RealEstateType[gProperty.type]);\n        MyLogger.log(RealEstateType[2], gProperty.type);\n        $(\"#p-furniture\").text(RealEstateFurniture[gProperty.furnitureType]);\n        $(\"#button-contact-phone\").on('click', function () {\n            var vPhone = gProperty.createBy.homePhone.split('').map((number, index) => {\n                if (index % 3 == 0 && index < 9) {\n                    return ' ' + number;\n                }\n                return number;\n            }).join('');\n            $(\"#span-phone-mobile\").text(vPhone);\n            navigator.clipboard.writeText(vPhone.split(' ').join(''));\n            $(this).popover({ trigger: 'focus' });\n        });\n        var vPriceText = '';\n        if (gProperty.price.length > 3) {\n            vPriceText = gProperty.price + \" billion\";\n        }\n        else {\n            vPriceText = gProperty.price + \" million\";\n        }\n        if (gProperty.request == 3) {\n            vPriceText += \"/month\";\n        }\n        $(\".p-price\").html(vPriceText);\n        $(\".p-bedroom\").text((_a = gProperty.bedroom) !== null && _a !== void 0 ? _a : 0);\n        $(\".p-acreage\").text((_b = gProperty.acreage) !== null && _b !== void 0 ? _b : 0);\n        $(\".p-bathroom\").text((_c = gProperty.bathroom) !== null && _c !== void 0 ? _c : 0);\n        $(\"#span-image-current\").text(gCurrentImage);\n        $(\"#span-realestate-amount\").text(gProperty.project.numRealEstates);\n        // if (vImage != null) {\n        //     $(\"#span-image-max\").text(vImage == null ? 1 : vImage['data'].length)\n        //     gImagesDefault = vImage['data']\n        // }\n        var vMasterLayouts = (_d = gProperty.project) === null || _d === void 0 ? void 0 : _d.masterLayouts;\n        MyLogger.log(\"Master layouts:\", vMasterLayouts);\n        if (vMasterLayouts == null || vMasterLayouts.length == 0) {\n            $(\"#div-floor-plan\").parent().addClass('d-none');\n        }\n        // TODO: continue\n        (_e = gProperty.project.utilities) === null || _e === void 0 ? void 0 : _e.split(',').forEach((item) => __awaiter(this, void 0, void 0, function* () {\n            // MyLogger.log('---- utilities', item);\n            var vResultUtil = yield new APIRequestBuilder()\n                .setPath(PATH_API_UTILITIES, new PageModel())\n                .getById(Number(item));\n            var vUtilities = vResultUtil === null || vResultUtil === void 0 ? void 0 : vResultUtil.data;\n            // MyLogger.log(\"Utilities:\", vUtilities)\n            $(\"#div-amenities\").append(`<p class='col-lg-6'><i class=\"fa-regular fa-square-check pr-3 text-secondary-my\"></i>${vUtilities.name}</p>`);\n        }));\n        // $(\".p-price\").html(formatPrice(vData.price * PRICE_MIL));\n        var vAddress = '';\n        gProperty['address'] ? vAddress += gProperty['address'] : '';\n        gProperty['street'] ? vAddress += \", \" + gProperty['street'].prefix + \" \" + gProperty['street'].name : '';\n        gProperty['ward'] ? vAddress += \", \" + gProperty['ward'].prefix + \" \" + gProperty['ward'].name : '';\n        gProperty['district'] ? vAddress += \", \" + gProperty['district'].prefix + \" \" + gProperty['district'].name : '';\n        gProperty['province'] ? vAddress += \", \" + gProperty['province'].name : '';\n        var vPhoto = gProperty['photo'];\n        if ((vPhoto == null || vPhoto.length == 0)\n        //  && vImage == null\n        ) {\n            vPhoto = IMAGE_NOT_FOUND;\n        }\n        else if (vPhoto != null && vPhoto.length > 0 && vPhoto.slice(0, 4) != 'http') {\n            vPhoto = `${PATH_IMAGE}${PATH_API_REAL_ESTATE}/${gProperty['id']}/${vPhoto}`;\n        }\n        // if (vImage != null) {\n        //     vImage['data'].forEach(item => {\n        //         $(\"#image-slide\").append(`<img class=\"w-100\" style=\" flex-shrink: 0;\" src=\"${IMAGE_PATH}${item}\" alt=\"\">\n        // `)\n        //     })\n        // }\n        vPhoto != null ? $(\"#image-slide\").append(`<img class=\"w-100\" style=\" flex-shrink: 0;\" src=\"${vPhoto}\" alt=\"\">`) : '';\n        $(\"#span-address\").text(vAddress);\n        if (gProperty['customer'] == null) {\n            $(\"#span-phone\").parent().addClass('d-none');\n        }\n        else {\n            $(\"#span-phone\").text(gProperty['customer'].mobile);\n        }\n        if (gProperty.createBy != null) {\n            $(\"#button-bio\").attr('href', '/agents/' + gProperty.createBy.id);\n        }\n        $(\"#button-reject\").on('click', onButtonRejectClick);\n        $(\"#button-take-down\").on('click', onButtonTakeDownClick);\n        $(\"#button-accept\").on('click', onButtonAcceptClick);\n        $(\"#button-sold\").on('click', onButtonSoldClick);\n    });\n}\nfunction updateRealEstateStatus(status) {\n    return __awaiter(this, void 0, void 0, function* () {\n        // Update number of views\n        var vObject = {\n            status: status\n        };\n        var vUserData = SecureAuth.getUserInfo();\n        var vResult = yield requestUpdateDataSingle(vObject, PATH_API_REAL_ESTATE, gProperty.id, PATH_API_EMPLOYEE, vUserData.id);\n        if (vResult != null && vResult['statusCode'] == 200) {\n            navigateTo(PATH_DEFAULT);\n        }\n    });\n}\nfunction getNearbyProperties() {\n    return __awaiter(this, void 0, void 0, function* () {\n        MyLogger.log(\"--- property data: \", gProperty);\n        var vParams = new URLSearchParams();\n        vParams.set('latest', 'true');\n        vParams.set('provinceId', gProperty.province.id);\n        vParams.set('districtId', gProperty.district.id);\n        vParams.set('priceMax', gProperty.price);\n        var vResult = yield new APIRequestBuilder()\n            .setPath(PATH_REAL_ESTATE, new PageModel())\n            .setParams(vParams);\n        MyLogger.log(\"Data:\", vResult);\n        if (vResult == null || vResult['data'] == null) {\n            return;\n        }\n        var vLength = 0;\n        vResult['data'].forEach((item) => __awaiter(this, void 0, void 0, function* () {\n            if (item.id == gProperty.id) {\n                return;\n            }\n            vLength += 1;\n            var vCard = CardProperty(item);\n            $(\"#div-properties-nearby\").append(yield vCard);\n        }));\n        if (vLength <= 0) {\n            $(\"#div-properties-nearby\").parent().addClass('d-none');\n        }\n    });\n}\nfunction uploadContactCard(paramData) {\n    if (paramData == null) {\n        $(\"#div-user\").addClass('d-none');\n        return;\n    }\n    var vPhoto = paramData.photo ? BASE_URL + \"uploads/\" + PATH_API_EMPLOYEE + \"/\" + paramData.id + \"/\" + paramData.photo : IMAGE_NOT_FOUND;\n    $(\"#h5-customer-name\").text(paramData.firstName + ' ' + paramData.lastName);\n    $(\"#img-customer-photo\").attr('src', vPhoto);\n    var vDate = new Date(paramData.hireDate);\n    $(\"#span-customer-year\").text(vDate.getFullYear());\n    $(\"#span-customer-num\").text(paramData.numRealEstates);\n    var vPhone = paramData.homePhone;\n    vPhone = vPhone === null || vPhone === void 0 ? void 0 : vPhone.split('/')[0];\n    if (vPhone == null) {\n        $(\"#a-contact-zalo\").addClass('d-none');\n        return;\n    }\n    // $(\"#a-contact-zalo\").attr('href', ZALO_LINK + vPhone)\n    $(\"#span-phone-mobile\").text(vPhone.split('').map((number, index) => {\n        if (index < 7) {\n            if (index % 3 == 0) {\n                return ' ' + number;\n            }\n            return number;\n        }\n        return '*';\n    }).join(''));\n}\nfunction uploadProjectCard(paramData) {\n    var _a;\n    $(\"#div-property-project img\").attr('src', (_a = paramData.photo) !== null && _a !== void 0 ? _a : IMAGE_NOT_FOUND);\n    $(\"#div-property-project .name\").text(paramData.name.toLowerCase());\n    $(\"#div-property-project .address\").text(paramData.address);\n}\nfunction handleImageDisplay(isRight) {\n    if (!gIsSCrolling) {\n        gIsSCrolling = true;\n        var vScrollWidth = $(\"#image-slide\")[0].clientWidth;\n        var vScrollDistance = $(\"#image-slide\").scrollLeft() +\n            (isRight ? vScrollWidth : -vScrollWidth);\n        // MyLogger.log(vScrollDistance)\n        $(\"#image-slide\").animate({ scrollLeft: vScrollDistance }, 300, function () {\n            gIsSCrolling = false;\n        });\n        if (gCurrentImage < gImagesDefault.length) {\n            gCurrentImage += 1;\n            $(\"#span-image-current\").text(gCurrentImage);\n        }\n    }\n    if (isRight && gCurrentImage < gImagesDefault.length) {\n        gCurrentImage += 1;\n    }\n    if (!isRight && gCurrentImage > 1) {\n        gCurrentImage -= 1;\n    }\n    $(\"#span-image-current\").text(gCurrentImage);\n}\nfunction onButtonRejectClick() {\n    updateRealEstateStatus(4);\n}\nfunction onButtonTakeDownClick() {\n    updateRealEstateStatus(3);\n}\nfunction onButtonAcceptClick() {\n    updateRealEstateStatus(1);\n}\nfunction onButtonSoldClick() {\n    updateRealEstateStatus(2);\n}\nexport default function PropertyDetailPage() {\n    return __awaiter(this, void 0, void 0, function* () {\n        MyLogger.log(\"Verify page\");\n        const html = yield fetch('/templates/real_estate_verify.html')\n            .then(res => res.text());\n        $(\"#main-container\").html(html);\n        yield onLoad();\n    });\n}\n"],"names":[],"sourceRoot":""}